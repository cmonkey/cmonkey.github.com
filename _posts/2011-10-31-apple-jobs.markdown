---
layout: post
title: 改变我人生轨迹的Apple II，Thanks Jobs！
comments: true
---

link: [周哥工作室](http://hi.baidu.com/maxzhou88/blog/item/5212c6602c6158c38cb10d6d.html)

我没有用过iPhone更没有用过iPad，甚至连那个有名的音乐播放器iPod具体是啥样都有点模糊，似乎苹果现在的产品都和我无缘，但这并不妨碍我对苹果产品的热爱和关注，这除了Apple产品的简约设计风格和完美的用户体验深深吸引我外，最主要的还是要感谢乔布斯的第一个产品－－Apple II ，对我人生轨迹的改变。

我本来是学机械结构设计专业的，在内地一家计算机生产厂家工作多年，从事电子设备的外形结构设计，说白了就是帮电路设计人员做做机壳而已，这种角色在工程师当中地位很低。我很羡慕我们厂里那些搞软硬件设计的工程师，视乎每一个产品的完成都是他们的第一功劳。


好象是86年吧，我一个叫欧阳明的同学，他单位的一台Apple-IIe电脑坏了，让我拿到我厂里维修。修好后我没有立刻还给我同学的单位，而是放在我寝室里被我玩了近两个月。这期间，我用Apple FP-BASIC来重写了我大学毕业论文的程序－－薄板振动有限元动力分析（大学微机实习总共4小时，毕业论文的程序是用国产DJS－101小型机和ALGOL60高级语言完成，程序媒介是古老穿孔纸带），还通宵达旦地编写一个走迷宫程序。这期间，我对6502汇编编程和电脑硬件设计也非常感兴趣，疯狂地收集一切有关Apple II 电脑相关的资料和书籍。那时候我总感觉IBM－PC电脑过于工业标准化，比较难入门，而Apple II 6502 CPU的8bit简单结构和讲究设计技巧的“非工业标准”的软硬件设计风格，深深地吸引了我，这东西对一个非专业的外行来说很好入门。从业余的感兴趣到后来的融入到工作，Apple II 让我从一名属于边缘人群的机壳匠变成厂里小有名气的“Apple王”，完成了我理想的由“机”到“电”的工程师角色转变。

一个人在社会中的角色我还是很在乎的，我并不是鄙视学机械的人，而是说，如果你的兴趣和从事的工作能相关的话，那会充分地发挥自己工作的创造力，并由此带来自己内心的愉悦，也就是现在所说的成就感吧。记得当年厂里进了一批IBM-PC机，但规定只让搞硬件和软件工程师才能使用它们，象我这个搞结构的机壳匠就没有权利使用，为此我还和我的顶头上司以及技术权威张总（那时的总是指总工程师，不是现在一般所指的总经理哦）大吵一架。我也暗下决心一定要超过他们，这种牛气当然也是来于我在黄冈中学读高中时被培养的性格，计算机说白了不就是个数学吗？我在黄高好歹也是拿过地区数学竞赛名次的。<!-- more -->

一个和我要好的搞软件的同事劝我不要对撞领导，叫我晚上去他的办公室玩PC机，当我看见他在PC上用editline行编辑熟练的编写汇编程序时，我无比佩服的同时也暗下决心，我也要达到这种水平。但后来事情也不是那样简单，由于我机械专业的知识背景，对Computer基本原理还是一知半解，加上我对知识追求“数理模型”解释的思维方式（这算是黄高培养学生的弊端），我发现以线性思考方式来学习的数学思维模式和以发散思维来积累知识的计算机学习方法是很不一样的，而我性格上也很不愿意使用后一种方式。这使我非常痛苦，这种“要么不学，要么就得精通”的学习态度我现在也认为是最要不得的。我总觉得PC机过于复杂，在我不了解其所以然的情况下，让我照葫芦画瓢地敲一段代码就像让我抄别人一道数学题的解答那样痛苦，我甚至认为我不是搞电脑的料，只到我终于能独有一台Apple II电脑后，情况才有所转变。

AppleII电脑是我认为最适合学习计算机知识的电脑，拆开机壳你看到的是，除了6502CPU是一个集成的“黑箱”外，其它的东西都是用基本的74LSXX系列TTL电路来实现的，就连比较复杂的用于字符和图形显示的PPU也是用TTL电路来实现其逻辑的，还有那个软盘接口卡－－DISK II ，勘称是硬件设计极品，除了用了一个256byte的PROM来做状态转换表的有限状态机显得有点神秘外，其它的电路一看就懂。好在我的布尔代数还算可以，所以当时我对AppleII的硬件分析没有任何困难，那种通过“窃取周期”（利用6502的有效时钟来访问RAM，无效时钟来访问PPU）的方式来实现CPU和PPU同时对RAM访问的双端口DRAM电路也让我看后拍案叫绝，许多聪明的工程技巧被用于系统的设计当中，从而简化了硬件节约了成本，比如巧妙的利用视频地址计数器来解决DRAM的刷新，相比之下IBM-PC要通过一个DAM端口来刷新DRAM显得要笨拙的多。

当然这一切也离不开我同学欧阳明送我的一本宝典－－Apple II 硬件详解（好象是这个书名），是苹果公司编写的中译版本，编者有段话就是说，本书推荐给仅仅对苹果机硬件特感兴趣的人看的。书中介绍了很多硬件设计技巧，并称这些技巧已经成为苹果的设计专利，比喻NTSC隔行扫描周期的补时，基于CPU时钟的PPU地址计数器的设计等，这些都可说是硬件设计经典，特别是那个DISK II接口卡，用一个256字节的PROM和几个TTL组成的有限状态机就可以完美地同步磁盘输出数据以实现位同步和字节同步，再配合软件进行磁盘数据的GCR62解码就可以得到扇区数据。而IBM-PC则要一颗专用的磁盘接口IC－－uPD765纯硬件来实现MFM解码，不但成本高，在读盘控制方面也没有Apple那么方便，想想看当时Apple的螺旋磁道和离散半磁道加密方式是IBM-PC的纯硬件实现的同心圆磁道所做不到的加密技巧，这些都勘称是AppleII的软硬件设计极品。

在软件方面，我也得到一本香港人写的宝书（可惜具体名字忘了），那种漫谈式的写作风格非常上口，我总觉得香港人和台湾人写的书比当时大陆人写的要好的多，大陆人写书的在我看来很多都颇有文革笔风，看得不那么亲切。言归正传吧，Apple II的软件对比IBM-PC来说要随意和自由的多，没有那么多所谓的“工业标准”，虽然我现在已经不对IBM的什么“系统调用”int xx 反感了，但当时对与我这种简单思维的大脑来说，苹果机的系统调用功能都是直接CALL地址来实现的（当然这些地址也成为苹果机的“工业标准”），另外Apple用6502写汇编监控（相当于BIOS吧）是非常的精简，这是我学汇编的直接教材，特别是那个存放在软盘接口卡中的BOOT CODE，仅用256byte就完成了磁盘数据的GCR62解码，这勘称8bit汇编程序的优化经典，到现在我还没有完全弄懂其原理。这些富于创造性的设计使我无比佩服那两个还不到20岁的在车库里发明苹果机的的美国青年－－乔布斯和沃兹，这两个史蒂夫（Steve Jobs & Steve Wozniak）才是真正的个人电脑之父。哪些初代的电脑，什么IBM-PC、Wang-PC、TRS-80要么结构过于复杂，要么系统封闭，总之只有Apple II这种既系统开放又结构简单的电脑才是那一代人的电脑启蒙教师，我有幸在那个时代结缘于APPLE II，以至于我怀疑在这个复杂电脑的时代，人们还能真正的理解电脑的本质？或许是现在的年轻人的大脑都进化了而我确过时了。

那个时代由Apple II成长起来的天才有很多，他们独立设计过很多Apple II的周边产品和软件，不象现在一个普通的人能设计PC的周边吗？一个驱动就烦死了你，你还得遵守这标准那标准才能做些皮毛的东西，因为Intel和Microsoft都为你做好了一切，你想创新还没有个平台，除非你去玩Liunx，但那是一般人敢玩的吗？我就看过当年的中学生都写出优秀的汇编，除了少数天才外我还真不敢想像现在的中学生能玩的转x86汇编。我也在那个时代从Apple II 哪得到点好处，借助别人的经验，半盗版半原创地设计了一个用于CEC-I中华学习机（AppleII的兼容机）的周边产品：Z80/PR/DD三合一卡（Z80卡＋打印卡＋磁盘双驱接口卡），说句笑话，当年那个不让我用电脑的张总后来还不得不佩服我，说这产品完全超过了他对产品定义的要求，后来他办公室的这机那机都可以随时让我使用。当CEC-I学习机被后来的FC学习机打垮后，我还将它改造成一款医疗仪器，以解产品积压之危。我下海离开工厂后，听说厂里还将这项目申请了省科技二等奖。

其实，改变我人生轨迹的还是6502，由于Nentindo的FC游戏机也是用这颗CPU，所以我来深圳后很顺利地就进入了游戏机行业，一直到今天。所以在今天人们无比怀念乔布斯的时候，我也有很深的感慨来纪念这个天才的创新大师，Thanks Apple II，Thanks  Jobs！

乔布斯和他的Apple II 苹果电脑（留着胡子和长发22岁时的他）

乔布斯和沃兹在车库里发明苹果电脑

Z80/PR/DD三合一卡(贴有标签IC就是Z80CPU，它与主板上的6502组成双CPU系统)

Z80/PR/DD三合一卡的驱动软盘

上面是我半盗版半原创设计的Z80/PR/DD三合一卡（Z80卡＋打印卡＋磁盘双驱接口卡），配合我改版的DOS 3.3 PRT/Z80 CP/M 磁盘双操作系统，可以在CEC-I中华学习机上不改主板线路就能外接两个软驱和一台打印机，Ctrl-Q热键可高分辨图像打印。Z80 CPU用于运行CP/M操作系统，通过该操作系统可以使CEC-I中华学习机运行硬汉字库dBASE-II和汉化WORDSTAR文字编辑器。这个简化版本的Z80卡由于采用降频设计，不但少用了IC电路还大大降低了原装Z80卡对机器时钟信号的异常严格的要求，该设计来源于北京一家公司的工程师的想法，也是我分析完他的Z80卡后决定“盗用”的一个亮点，毕竟可靠性比速度更重要。这个产品当年在《电子与电脑》杂志我做过广告。
